function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return B}));var r,c,o=n("ofXK"),i=n("tyNb"),b=n("3Pt+"),l=n("fXoL"),a=n("qdT6"),u=n("LRne"),s=n("lJxs"),d=n("JIr8"),p=((r=function(){function t(e,n){_classCallCheck(this,t),this.repo=e,this.router=n,this.authenticated=!1}return _createClass(t,[{key:"login",value:function(){var t=this;return this.authenticated=!1,this.repo.login(this.name,this.password).pipe(Object(s.a)((function(e){return e&&(t.authenticated=!0,t.password=null,t.router.navigateByUrl(t.callbackUrl||"/admin/overview")),t.authenticated})),Object(d.a)((function(e){return t.authenticated=!1,Object(u.a)(!1)})))}},{key:"logout",value:function(){this.authenticated=!1,this.repo.logout(),this.router.navigateByUrl("/admin/login")}}]),t}()).\u0275fac=function(t){return new(t||r)(l.Rb(a.a),l.Rb(i.d))},r.\u0275prov=l.Gb({token:r,factory:r.\u0275fac}),r),f=function(){return{exact:!0}},h=((c=function t(e,n){_classCallCheck(this,t),this.repo=e,this.authService=n,e.filter.reset(),e.filter.related=!0,this.repo.getProducts(),this.repo.getSuppliers(),this.repo.getOrders()}).\u0275fac=function(t){return new(t||c)(l.Kb(a.a),l.Kb(p))},c.\u0275cmp=l.Eb({type:c,selectors:[["ng-component"]],decls:19,vars:2,consts:[[1,"navbar","bg-info","mb-1"],[1,"navbar-brand","text-white"],[1,"float-right","navbar-text"],[1,"btn","btn-sm","btn-warning",3,"click"],[1,"col-3","fixed-bottom","mb-1"],["routerLink","/store",1,"btn","btn-block","btn-secondary"],[1,"row","no-gutters"],[1,"col-3"],["routerLink","/admin","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1",3,"routerLinkActiveOptions"],["routerLink","/admin/products","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1"],["routerLink","/admin/orders","routerLinkActive","active",1,"btn","btn-block","btn-outline-info","m-1"],[1,"col","p-2"]],template:function(t,e){1&t&&(l.Nb(0,"div",0),l.Nb(1,"a",1),l.lc(2,"SPORTS STORE Admin"),l.Mb(),l.Nb(3,"div",2),l.Nb(4,"button",3),l.Vb("click",(function(){return e.authService.logout()})),l.lc(5,"Log Out"),l.Mb(),l.Mb(),l.Mb(),l.Nb(6,"div",4),l.Nb(7,"a",5),l.lc(8,"Store"),l.Mb(),l.Mb(),l.Nb(9,"div",6),l.Nb(10,"div",7),l.Nb(11,"button",8),l.lc(12,"Overview"),l.Mb(),l.Nb(13,"button",9),l.lc(14,"Products"),l.Mb(),l.Nb(15,"button",10),l.lc(16,"Orders"),l.Mb(),l.Mb(),l.Nb(17,"div",11),l.Lb(18,"router-outlet"),l.Mb(),l.Mb()),2&t&&(l.zb(11),l.bc("routerLinkActiveOptions",l.cc(1,f)))},directives:[i.g,i.e,i.f,i.i],encapsulation:2}),c),g=function t(e,n,r,c,o,i,b){_classCallCheck(this,t),this.productId=e,this.name=n,this.category=r,this.description=c,this.price=o,this.supplier=i,this.ratings=b};function m(t,e){if(1&t&&(l.Nb(0,"option",5),l.lc(1),l.Mb()),2&t){var n=e.$implicit;l.bc("ngValue",n),l.zb(1),l.mc(n.name)}}var M,v=((M=function(){function t(e){_classCallCheck(this,t),this.repo=e}return _createClass(t,[{key:"compareSuppliers",value:function(t,e){return t&&e&&t.name==e.name}},{key:"product",get:function(){return this.repo.product}},{key:"suppliers",get:function(){return this.repo.suppliers}}]),t}()).\u0275fac=function(t){return new(t||M)(l.Kb(a.a))},M.\u0275cmp=l.Eb({type:M,selectors:[["admin-product-editor"]],decls:21,vars:7,consts:[[1,"form-group"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue"]],template:function(t,e){1&t&&(l.Nb(0,"div",0),l.Nb(1,"label"),l.lc(2,"Name"),l.Mb(),l.Nb(3,"input",1),l.Vb("ngModelChange",(function(t){return e.product.name=t})),l.Mb(),l.Mb(),l.Nb(4,"div",0),l.Nb(5,"label"),l.lc(6,"Category"),l.Mb(),l.Nb(7,"input",1),l.Vb("ngModelChange",(function(t){return e.product.category=t})),l.Mb(),l.Mb(),l.Nb(8,"div",0),l.Nb(9,"label"),l.lc(10,"Supplier"),l.Mb(),l.Nb(11,"select",2),l.Vb("ngModelChange",(function(t){return e.product.supplier=t})),l.jc(12,m,2,2,"option",3),l.Mb(),l.Mb(),l.Nb(13,"div",0),l.Nb(14,"label"),l.lc(15,"Description"),l.Mb(),l.Nb(16,"textarea",1),l.Vb("ngModelChange",(function(t){return e.product.description=t})),l.Mb(),l.Mb(),l.Nb(17,"div",0),l.Nb(18,"label"),l.lc(19,"Price"),l.Mb(),l.Nb(20,"input",4),l.Vb("ngModelChange",(function(t){return e.product.price=t})),l.Mb(),l.Mb()),2&t&&(l.zb(3),l.bc("ngModel",e.product.name),l.zb(4),l.bc("ngModel",e.product.category),l.zb(4),l.bc("ngModel",e.product.supplier)("compareWith",e.compareSuppliers),l.zb(1),l.bc("ngForOf",e.suppliers),l.zb(4),l.bc("ngModel",e.product.description),l.zb(4),l.bc("ngModel",e.product.price))},directives:[b.a,b.c,b.f,b.j,o.i,b.h,b.g,b.k],encapsulation:2}),M);function N(t,e){if(1&t){var n=l.Ob();l.Nb(0,"td"),l.lc(1),l.Mb(),l.Nb(2,"td"),l.lc(3),l.Mb(),l.Nb(4,"td"),l.lc(5),l.Mb(),l.Nb(6,"td"),l.lc(7),l.Mb(),l.Nb(8,"td"),l.lc(9),l.Yb(10,"currency"),l.Mb(),l.Nb(11,"td"),l.Nb(12,"button",8),l.Vb("click",(function(){l.fc(n);var t=l.Xb().$implicit;return l.Xb(2).selectProduct(t.productId)})),l.lc(13,"Edit"),l.Mb(),l.Nb(14,"button",9),l.Vb("click",(function(){l.fc(n);var t=l.Xb().$implicit;return l.Xb(2).deleteProduct(t.productId)})),l.lc(15,"Delete"),l.Mb(),l.Mb()}if(2&t){var r=l.Xb().$implicit;l.zb(1),l.mc(r.productId),l.zb(2),l.mc(r.name),l.zb(2),l.mc(r.category),l.zb(2),l.mc((null==r.supplier?null:r.supplier.name)||"(None)"),l.zb(2),l.mc(l.Zb(10,5,r.price,"USD","symbol"))}}function k(t,e){if(1&t&&(l.Nb(0,"tr"),l.jc(1,N,16,9,"ng-template",7),l.Mb()),2&t){var n=e.$implicit,r=l.Xb(2),c=l.ec(2);l.zb(1),l.bc("ngIf",(null==r.product?null:r.product.productId)!=n.productId)("ngIfElse",c)}}function y(t,e){if(1&t){var n=l.Ob();l.Nb(0,"table",3),l.Nb(1,"tbody"),l.Nb(2,"tr"),l.Nb(3,"th"),l.lc(4,"ID"),l.Mb(),l.Nb(5,"th"),l.lc(6,"Name"),l.Mb(),l.Nb(7,"th"),l.lc(8,"Category"),l.Mb(),l.Nb(9,"th"),l.lc(10,"Supplier"),l.Mb(),l.Nb(11,"th"),l.lc(12,"Price"),l.Mb(),l.Lb(13,"th"),l.Mb(),l.jc(14,k,2,2,"tr",4),l.Mb(),l.Nb(15,"tfoot"),l.Nb(16,"tr"),l.Nb(17,"td",5),l.Nb(18,"button",6),l.Vb("click",(function(){l.fc(n);var t=l.Xb();return t.clearProduct(),t.tableMode=!1})),l.lc(19,"Create"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Mb()}if(2&t){var r=l.Xb();l.zb(14),l.bc("ngForOf",r.products)}}function C(t,e){if(1&t){var n=l.Ob();l.Nb(0,"td",10),l.Lb(1,"admin-product-editor"),l.Nb(2,"div",11),l.Nb(3,"button",8),l.Vb("click",(function(){return l.fc(n),l.Xb().saveProduct()})),l.lc(4,"Save"),l.Mb(),l.Nb(5,"button",12),l.Vb("click",(function(){return l.fc(n),l.Xb().clearProduct()})),l.lc(6,"Cancel"),l.Mb(),l.Mb(),l.Mb()}}function w(t,e){if(1&t){var n=l.Ob();l.Nb(0,"div",13),l.Lb(1,"admin-product-editor"),l.Nb(2,"button",6),l.Vb("click",(function(){return l.fc(n),l.Xb().saveProduct()})),l.lc(3,"Save"),l.Mb(),l.Nb(4,"button",14),l.Vb("click",(function(){return l.fc(n),l.Xb().clearProduct()})),l.lc(5,"Cancel"),l.Mb(),l.Mb()}}var I,P=((I=function(){function t(e){_classCallCheck(this,t),this.repo=e,this.tableMode=!0}return _createClass(t,[{key:"selectProduct",value:function(t){this.repo.getProduct(t)}},{key:"saveProduct",value:function(){null==this.repo.product.productId?this.repo.createProduct(this.repo.product):this.repo.replaceProduct(this.repo.product),this.clearProduct(),this.tableMode=!0}},{key:"deleteProduct",value:function(t){this.repo.deleteProduct(t)}},{key:"clearProduct",value:function(){this.repo.product=new g,this.tableMode=!0}},{key:"product",get:function(){return this.repo.product}},{key:"products",get:function(){return this.repo.products}}]),t}()).\u0275fac=function(t){return new(t||I)(l.Kb(a.a))},I.\u0275cmp=l.Eb({type:I,selectors:[["ng-component"]],decls:5,vars:2,consts:[["class","table table-sm table-striped",4,"ngIf","ngIfElse"],["edit",""],["create",""],[1,"table","table-sm","table-striped"],[4,"ngFor","ngForOf"],["colspan","6",1,"text-center"],[1,"btn","btn-primary",3,"click"],[3,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-danger","ml-1",3,"click"],["colspan","6",1,"bg-light","border","p-3"],[1,"text-center"],[1,"btn","btn-sm","btn-info","ml-1",3,"click"],[1,"m-2"],[1,"btn","btn-info","ml-1",3,"click"]],template:function(t,e){if(1&t&&(l.jc(0,y,20,1,"table",0),l.jc(1,C,7,0,"ng-template",null,1,l.kc),l.jc(3,w,6,0,"ng-template",null,2,l.kc)),2&t){var n=l.ec(4);l.bc("ngIf",e.tableMode)("ngIfElse",n)}},directives:[o.j,o.i,v],pipes:[o.c],encapsulation:2}),I);function S(t,e){if(1&t){var n=l.Ob();l.Nb(0,"td"),l.Nb(1,"button",6),l.Vb("click",(function(){l.fc(n);var t=l.Xb().$implicit;return l.Xb(2).markShipped(t)})),l.lc(2,"Ship"),l.Mb(),l.Mb()}}function z(t,e){if(1&t&&(l.Nb(0,"tr"),l.Nb(1,"td"),l.lc(2),l.Mb(),l.Nb(3,"td"),l.lc(4),l.Mb(),l.Nb(5,"td"),l.lc(6),l.Mb(),l.Nb(7,"td"),l.lc(8),l.Yb(9,"currency"),l.Mb(),l.jc(10,S,3,0,"td",5),l.Mb()),2&t){var n=e.$implicit;l.Xb(2);var r=l.ec(2);l.zb(2),l.mc(n.name),l.zb(2),l.mc(n.address),l.zb(2),l.mc(n.products.length),l.zb(2),l.mc(l.Zb(9,6,n.payment.total,"USD","symbol")),l.zb(2),l.bc("ngIf",!n.shipped)("ngIfElse",r)}}function O(t,e){if(1&t&&(l.Nb(0,"table",3),l.Nb(1,"tbody"),l.Nb(2,"tr"),l.Nb(3,"th"),l.lc(4,"Customer"),l.Mb(),l.Nb(5,"th"),l.lc(6,"Address"),l.Mb(),l.Nb(7,"th"),l.lc(8,"Products"),l.Mb(),l.Nb(9,"th"),l.lc(10,"Total"),l.Mb(),l.Lb(11,"th"),l.Mb(),l.jc(12,z,11,10,"tr",4),l.Mb(),l.Mb()),2&t){var n=l.Xb();l.zb(12),l.bc("ngForOf",n.orders)}}function j(t,e){1&t&&(l.Nb(0,"td"),l.lc(1,"Shipped"),l.Mb())}function _(t,e){1&t&&(l.Nb(0,"h3",7),l.lc(1,"There are no orders"),l.Mb())}var E,L,V=((L=function(){function t(e){_classCallCheck(this,t),this.repo=e}return _createClass(t,[{key:"markShipped",value:function(t){this.repo.shipOrder(t)}},{key:"orders",get:function(){return this.repo.orders}}]),t}()).\u0275fac=function(t){return new(t||L)(l.Kb(a.a))},L.\u0275cmp=l.Eb({type:L,selectors:[["ng-component"]],decls:5,vars:2,consts:[["class","table table-striped",4,"ngIf","ngIfElse"],["shipped",""],["nodata",""],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"text-center"]],template:function(t,e){if(1&t&&(l.jc(0,O,13,1,"table",0),l.jc(1,j,2,0,"ng-template",null,1,l.kc),l.jc(3,_,2,0,"ng-template",null,2,l.kc)),2&t){var n=l.ec(4);l.bc("ngIf",(null==e.orders?null:e.orders.length)>0)("ngIfElse",n)}},directives:[o.j,o.i],pipes:[o.c],encapsulation:2}),L),X=((E=function(){function t(e){_classCallCheck(this,t),this.repo=e}return _createClass(t,[{key:"products",get:function(){return this.repo.products}},{key:"orders",get:function(){return this.repo.orders}}]),t}()).\u0275fac=function(t){return new(t||E)(l.Kb(a.a))},E.\u0275cmp=l.Eb({type:E,selectors:[["ng-component"]],decls:13,vars:2,consts:[[1,"table","m-1"],["routerLink","/admin/products",1,"btn","btn-sm","btn-info","btn-block"],["routerLink","/admin/orders",1,"btn","btn-sm","btn-info","btn-block"]],template:function(t,e){1&t&&(l.Nb(0,"table",0),l.Nb(1,"tr"),l.Nb(2,"td"),l.lc(3),l.Mb(),l.Nb(4,"td"),l.Nb(5,"button",1),l.lc(6,"Manage Products"),l.Mb(),l.Mb(),l.Mb(),l.Nb(7,"tr"),l.Nb(8,"td"),l.lc(9),l.Mb(),l.Nb(10,"td"),l.Nb(11,"button",2),l.lc(12,"Manage Orders"),l.Mb(),l.Mb(),l.Mb(),l.Mb()),2&t&&(l.zb(3),l.nc("There are ",(null==e.products?null:e.products.length)||0," products for sale"),l.zb(6),l.nc("There are ",(null==e.orders?null:e.orders.length)||0," orders"))},directives:[i.e],encapsulation:2}),E);function x(t,e){1&t&&(l.Nb(0,"h4",13),l.lc(1," Invalid username or password\n"),l.Mb())}function A(t,e){1&t&&(l.Nb(0,"div",14),l.lc(1,"Please enter your user name"),l.Mb())}function F(t,e){1&t&&(l.Nb(0,"div",14),l.lc(1,"Please enter your password"),l.Mb())}var T,R,K,U,$=((K=function(){function t(e){_classCallCheck(this,t),this.authService=e,this.showError=!1}return _createClass(t,[{key:"login",value:function(){var t=this;this.showError=!1,this.authService.login().subscribe((function(e){t.showError=!e}))}}]),t}()).\u0275fac=function(t){return new(t||K)(l.Kb(p))},K.\u0275cmp=l.Eb({type:K,selectors:[["ng-component"]],decls:21,vars:6,consts:[[1,"navbar","bg-info","mb-1"],[1,"navbar-brand","text-white"],["class","p-2 bg-danger text-white",4,"ngIf"],["novalidate","",1,"m-3"],["authForm","ngForm"],[1,"form-group"],["name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","text-danger",4,"ngIf"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],[1,"text-center","pt-2"],[1,"btn","btn-primary",3,"disabled","click"],[1,"p-2","bg-danger","text-white"],[1,"text-danger"]],template:function(t,e){if(1&t&&(l.Nb(0,"div",0),l.Nb(1,"a",1),l.lc(2,"SPORTS STORE Admin"),l.Mb(),l.Mb(),l.jc(3,x,2,0,"h4",2),l.Nb(4,"form",3,4),l.Nb(6,"div",5),l.Nb(7,"label"),l.lc(8,"Name:"),l.Mb(),l.Nb(9,"input",6,7),l.Vb("ngModelChange",(function(t){return e.authService.name=t})),l.Mb(),l.jc(11,A,2,0,"div",8),l.Mb(),l.Nb(12,"div",5),l.Nb(13,"label"),l.lc(14,"Password:"),l.Mb(),l.Nb(15,"input",9,10),l.Vb("ngModelChange",(function(t){return e.authService.password=t})),l.Mb(),l.jc(17,F,2,0,"div",8),l.Mb(),l.Nb(18,"div",11),l.Nb(19,"button",12),l.Vb("click",(function(){return e.login()})),l.lc(20,"Login"),l.Mb(),l.Mb(),l.Mb()),2&t){var n=l.ec(5),r=l.ec(10),c=l.ec(16);l.zb(3),l.bc("ngIf",e.showError),l.zb(6),l.bc("ngModel",e.authService.name),l.zb(2),l.bc("ngIf",r.invalid),l.zb(4),l.bc("ngModel",e.authService.password),l.zb(2),l.bc("ngIf",c.invalid),l.zb(2),l.bc("disabled",n.invalid)}},directives:[o.j,b.l,b.d,b.e,b.a,b.i,b.c,b.f],encapsulation:2}),K),D=((R=function(){function t(e,n){_classCallCheck(this,t),this.router=e,this.authService=n}return _createClass(t,[{key:"canActivateChild",value:function(t,e){return!!this.authService.authenticated||(this.authService.callbackUrl=t.url.toString(),this.router.navigateByUrl("/admin/login"),!1)}}]),t}()).\u0275fac=function(t){return new(t||R)(l.Rb(i.d),l.Rb(p))},R.\u0275prov=l.Gb({token:R,factory:R.\u0275fac}),R),J=((T=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ib({type:T}),T.\u0275inj=l.Hb({factory:function(t){return new(t||T)},providers:[p,D],imports:[[i.h,b.b,o.b]]}),T),q=[{path:"login",component:$},{path:"",component:h,canActivateChild:[D],children:[{path:"products",component:P},{path:"orders",component:V},{path:"overview",component:X},{path:"",component:X}]}],B=((U=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ib({type:U}),U.\u0275inj=l.Hb({factory:function(t){return new(t||U)},imports:[[i.h,b.b,i.h.forChild(q),o.b,J]]}),U)}}]);